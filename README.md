# DCA Analysis Tool

A Python script that analyzes Bitcoin (BTC/USDT) price data from Binance to determine optimum times for Dollar Cost Averaging (DCA). The analysis is performed based on the `Asia/Bangkok` timezone.

## Features

- **Multi-Period Analysis**: Analyzes data over the last 7, 15, 30, and 60 days.
- **Daily Low Frequency**: Identifies which 15-minute time slot most frequently captures the daily low price.
- **Optimal DCA Time**: Calculates the best time of day to buy based on the **Harmonic Mean** of prices (DCA price) and the discount relative to the daily average.
- **Discord Integration**: Automatically sends the analysis report to a Discord channel via Webhook.

## Prerequisites

- Python 3.x
- `ccxt`
- `pandas`
- `requests`

## Installation

1. Clone the repository or download the script.
2. Install the required dependencies:

```bash
pip install ccxt pandas requests
```

## Configuration

The script is configured with the following defaults in `btc-analysis.py`:

- **Exchange**: Binance
- **Symbol**: BTC/USDT
- **Timeframe**: 15m (15 minutes)
- **Timezone**: Asia/Bangkok
- **Lookback Periods**: 7, 15, 30, 60 days

## Usage

1. (Optional) Set up the `DISCORD_WEBHOOK_URL` environment variable if you want to receive reports on Discord.
   
   **Mac/Linux:**
   ```bash
   export DISCORD_WEBHOOK_URL="your_webhook_url_here"
   ```

   **Windows (PowerShell):**
   ```powershell
   $env:DISCORD_WEBHOOK_URL="your_webhook_url_here"
   ```

2. Run the script:

```bash
python btc-analysis.py
```

## Output

The script prints a report to the console (and Discord) containing:

1. **Range**: The start and end dates of the analyzed data.
2. **Most frequent DAILY-LOW time**: The time of day (HH:MM) that has the highest probability of being the daily low.
3. **Best Realistic DCA Price**: The time of day that offers the best "DCA Price" (harmonic mean of close prices) and the average discount relative to the daily mean.

## Files

- `btc-analysis.py`: Main analysis script.
- `*.csv`: (Optional) CSV files that may contain historical data or previous analysis results (not generated by the current script version).
